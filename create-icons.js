const fs = require('fs');
const path = require('path');

// Create a simple 16x16 PNG icon for the tray
const createSimplePNG = () => {
  // Simple 16x16 PNG (red dot)
  const pngData = Buffer.from([
    0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
    0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
    0x00, 0x00, 0x00, 0x10, 0x00, 0x00, 0x00, 0x10,
    0x08, 0x02, 0x00, 0x00, 0x00, 0x90, 0x91, 0x68,
    0x36, 0x00, 0x00, 0x00, 0x01, 0x73, 0x52, 0x47,
    0x42, 0x00, 0xAE, 0xCE, 0x1C, 0xE9, 0x00, 0x00,
    0x00, 0x04, 0x67, 0x41, 0x4D, 0x41, 0x00, 0x00,
    0xB1, 0x8F, 0x0B, 0xFC, 0x61, 0x05, 0x00, 0x00,
    0x00, 0x09, 0x70, 0x48, 0x59, 0x73, 0x00, 0x00,
    0x0E, 0xC3, 0x00, 0x00, 0x0E, 0xC3, 0x01, 0xC7,
    0x6F, 0xA8, 0x64, 0x00, 0x00, 0x00, 0x18, 0x74,
    0x45, 0x58, 0x74, 0x53, 0x6F, 0x66, 0x74, 0x77,
    0x61, 0x72, 0x65, 0x00, 0x70, 0x61, 0x69, 0x6E,
    0x74, 0x2E, 0x6E, 0x65, 0x74, 0x20, 0x34, 0x2E,
    0x30, 0x2E, 0x31, 0x37, 0xF3, 0x23, 0x76, 0x90,
    0x00, 0x00, 0x00, 0x64, 0x49, 0x44, 0x41, 0x54,
    0x38, 0x4F, 0x63, 0xF8, 0xFF, 0xFF, 0x3F, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03,
    0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x03, 0x00,
    0x00, 0xB0, 0x00, 0x30, 0x01, 0x9C, 0x65, 0x49,
    0x36, 0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4E,
    0x44, 0xAE, 0x42, 0x60, 0x82
  ]);
  
  return pngData;
};

// Create assets directory if it doesn't exist
const assetsDir = path.join(__dirname, 'assets');
if (!fs.existsSync(assetsDir)) {
  fs.mkdirSync(assetsDir, { recursive: true });
}

// Create tray icon
const trayIconPath = path.join(assetsDir, 'tray-icon.png');
fs.writeFileSync(trayIconPath, createSimplePNG());
console.log('Created tray icon:', trayIconPath);

// Create app icon (same for now)
const appIconPath = path.join(assetsDir, 'icon.png');
fs.writeFileSync(appIconPath, createSimplePNG());
console.log('Created app icon:', appIconPath);